logic using panel states (or widget vals) to change global variables